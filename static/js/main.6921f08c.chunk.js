(this["webpackJsonprick-and-morty-quiz"]=this["webpackJsonprick-and-morty-quiz"]||[]).push([[0],{121:function(e,t,a){e.exports=a.p+"static/media/arrow.d6d0b489.svg"},186:function(e,t,a){e.exports=a.p+"static/media/title.42d6efdb.png"},187:function(e,t,a){e.exports=a.p+"static/media/logo.842f63c3.png"},189:function(e,t,a){e.exports=a.p+"static/media/morty-face.617393a9.png"},190:function(e,t,a){e.exports=a.p+"static/media/fire.15fc282e.png"},191:function(e,t,a){e.exports=a.p+"static/media/rick-face.19af2235.png"},192:function(e,t,a){e.exports=a.p+"static/media/record.bb65bdad.png"},193:function(e,t,a){e.exports=a.p+"static/media/finish.82d32ff6.png"},194:function(e,t,a){e.exports=a(409)},393:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},401:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);a(195),a(204);var n=a(0),c=a.n(n),r=a(185),s=a.n(r),o=(a(393),a(31)),l=a(13),i=(a(394),a(395),a(186)),m=a.n(i),u=a(187),d=a.n(u),f=a(57),p=(a(396),function(e){var t=["custom-btn"];return e.types&&t.push.apply(t,Object(f.a)(e.types.map((function(e){return"custom-btn--"+e})))),c.a.createElement("button",{className:t.join(" "),onClick:e.clicked}," ",e.text," ")}),E=function(){return c.a.createElement("div",{className:"menu"},c.a.createElement("img",{className:"menu__title",src:m.a,alt:"title"}),c.a.createElement("img",{className:"menu__logo",src:d.a,alt:"logo"}),c.a.createElement("div",{className:"menu__controllers"},c.a.createElement(o.c,{to:"./records"},c.a.createElement(p,{text:"RECORDS",types:["menu","secondary"]})),c.a.createElement(o.c,{to:"./game/settings"},c.a.createElement(p,{text:"NEW GAME",types:["menu"]}))))},h=a(15),N=(a(401),a(121)),b=a.n(N),g=function(e){return c.a.createElement("div",{className:"settings"},c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"field"},c.a.createElement("p",{className:"field__name"},"NAME"),c.a.createElement("input",{className:e.inputError?"field__input field__input--error":"field__input",type:"text",defaultValue:e.name,placeholder:"User name",onBlur:function(t){return e.changeName(t.target.value)}}),c.a.createElement("p",{className:e.inputError?"field__error field__error--show":"field__error"},"*Invalid name! Name must have at least 3 character.")),c.a.createElement("div",{className:"field"},c.a.createElement("p",{className:"field__name"},"ROUNDS"),c.a.createElement("div",{className:"field__count"},c.a.createElement("img",{className:"arrow arrow--decrease",src:b.a,alt:"decrease quantity",onClick:e.reduceQty}),c.a.createElement("p",{className:"number"},e.rounds),c.a.createElement("img",{className:"arrow arrow--increase",src:b.a,alt:"incresae quantity",onClick:e.addQty})))),c.a.createElement("div",{className:"btn-group"},c.a.createElement(p,{text:"CANCEL",types:["secondary","collapse"],clicked:function(){return e.action("cancel")}}),c.a.createElement(p,{text:"ACCEPT",types:["collapse"],clicked:function(){return e.action("accept")}})))},_=(a(402),a(403),a(189)),v=a.n(_),j=function(){return c.a.createElement("div",{className:"spinner"},c.a.createElement("div",{className:"spinner__frame"},c.a.createElement("img",{className:"pic",src:v.a,alt:"Loading"})),c.a.createElement("p",{className:"spinner__text"}))},O=(a(404),function(e){return c.a.createElement("div",{className:"character"},c.a.createElement("img",{className:"character__pic",src:e.img,alt:"character"}),c.a.createElement("div",{className:"character__info"},c.a.createElement("div",{className:"field"},c.a.createElement("p",{className:"field__title"},"NAME: "),c.a.createElement("p",{className:"field__data"},e.name.toUpperCase())),c.a.createElement("div",{className:"field"},c.a.createElement("p",{className:"field__title"},"SPECIES: "),c.a.createElement("p",{className:"field__data"},e.species.toUpperCase())),c.a.createElement("div",{className:"field"},c.a.createElement("p",{className:"field__title"},"ORIGIN: "),c.a.createElement("p",{className:"field__data"},e.origin.toUpperCase()))))}),y=(a(405),a(190)),k=a.n(y),S=function(e){var t="streak-num";return e.streak%5===0&&0!==e.streak&&(e.streak>5?t+=" streak-num--upten":t+=" streak-num--upfive"),c.a.createElement("div",{className:"scoreboard"},c.a.createElement("div",null,c.a.createElement("p",{className:"scoreboard__item"},"ROUND"),c.a.createElement("p",{className:"scoreboard__item"},e.round)),c.a.createElement("div",{className:"scoreboard__streak"},c.a.createElement("p",{className:t},e.streak),c.a.createElement("img",{className:"streak-logo",src:k.a,alt:"fire"})),c.a.createElement("div",null,c.a.createElement("p",{className:"scoreboard__item"},"SCORE"),c.a.createElement("p",{className:"scoreboard__item"},e.score)))},w=(a(406),a(191)),x=a.n(w),C=function(){return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"error"},c.a.createElement("div",{className:"error__frame"},c.a.createElement("img",{className:"pic",src:x.a,alt:"Loading"})),c.a.createElement("p",{className:"error__text"},"Connection problem!")),c.a.createElement(o.c,{className:"menu-btn",to:"/"},c.a.createElement(p,{text:"MENU",types:["secondary"]})))},R=function(e){var t=e.addedScore?c.a.createElement("div",{className:"answer-response answer-response--correct"},c.a.createElement("p",null,"+",e.addedScore)):c.a.createElement("div",{className:"answer-response answer-response--fail"},c.a.createElement("p",null,"FAIL")),a=e.loading||e.apiError?c.a.createElement(C,null):c.a.createElement("div",{className:"round"},c.a.createElement(S,{round:e.round,score:e.score,streak:e.streak}),c.a.createElement(O,{img:e.character.image,name:e.character.name,origin:e.character.origin.name,species:e.character.species}),c.a.createElement("div",{className:"btn-group"},c.a.createElement(p,{text:"DEAD",types:["dead","collapse"],clicked:function(){return e.answer("Dead")}}),c.a.createElement(p,{text:"ALIVE",types:["collapse"],clicked:function(){return e.answer("Alive")}})));return c.a.createElement(n.Fragment,null,e.showScore?t:null,c.a.createElement("div",{className:"play"},e.loading?c.a.createElement(j,null):a))},A=(a(407),a(192)),M=a.n(A),U=a(193),D=a.n(U),I=function(e){var t=e.score>e.record?c.a.createElement(n.Fragment,null,c.a.createElement("h2",{className:"resume__title"},"NEW RECORD"),c.a.createElement("img",{className:"resume__pic",src:M.a,alt:"record"}),c.a.createElement("p",null,"SCORE: ",e.score)):c.a.createElement(n.Fragment,null,c.a.createElement("h2",{className:"resume__title"},"RESUME"),c.a.createElement("img",{className:"resume__pic",src:D.a,alt:"resume"}),c.a.createElement("p",null,"SCORE: ",e.score)),a=e.apiError?c.a.createElement(C,null):c.a.createElement(n.Fragment,null,t,c.a.createElement(p,{text:"FINISH GAME",clicked:e.send}));return c.a.createElement("div",{className:"resume"},"undefined"!==typeof e.record?a:c.a.createElement(j,null))},T=function(){var e=Object(l.g)(),t=Object(l.f)(),a=Object(n.useState)(""),r=Object(h.a)(a,2),s=r[0],o=r[1],i=Object(n.useState)(10),m=Object(h.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(!1),E=Object(h.a)(p,2),N=E[0],b=E[1],_=Object(n.useState)(!0),v=Object(h.a)(_,2),j=v[0],O=v[1],y=Object(n.useState)(!1),k=Object(h.a)(y,2),S=k[0],w=k[1],x=Object(n.useState)(0),C=Object(h.a)(x,2),A=C[0],M=C[1],U=Object(n.useState)([]),D=Object(h.a)(U,2),T=D[0],F=D[1],q=Object(n.useState)(0),L=Object(h.a)(q,2),z=L[0],B=L[1],P=Object(n.useState)(0),Q=Object(h.a)(P,2),W=Q[0],G=Q[1],J=Object(n.useState)(0),V=Object(h.a)(J,2),H=V[0],$=V[1],K=Object(n.useState)(0),X=Object(h.a)(K,2),Y=X[0],Z=X[1],ee=Object(n.useState)(!1),te=Object(h.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)([]),re=Object(h.a)(ce,2),se=re[0],oe=re[1];Object(n.useEffect)((function(){s||t.push("./settings")}),[]),Object(n.useEffect)((function(){fetch("https://rickandmortyapi.com/api/character").then((function(e){e.ok?e.json().then((function(e){return M(e.info.count)})):(O(!1),w(!0))})).catch((function(e){console.error(e.message),O(!1),w(!0)}))}),[]);var le=function(e){o(e)},ie=function(){d((function(e){return e<30?e+=5:e}))},me=function(){d((function(e){return e>5?e-=5:e}))},ue=function(e){"accept"===e?s.length>2?(t.push("./play"),de()):b(!0):t.push("")};Object(n.useEffect)((function(){"/game/play"===t.location.pathname&&(T.length===u?setTimeout((function(){return O(!1)}),500):de())}),[T]),Object(n.useEffect)((function(){ae&&setTimeout((function(){ne(!1),z+1!==u?B((function(e){return e+1})):t.push("./resume")}),1100)}),[ae]);var de=function e(){var t=u-T.length,a=Array.from({length:t},(function(){return Math.floor(Math.random()*A)})),n="https://rickandmortyapi.com/api/character/".concat(a.join(","));fetch(n).then((function(t){t.ok?t.json().then((function(t){if(a.length>1){var n=t.filter((function(e){return"Alive"===e.status||"Dead"===e.status}));n?F((function(e){return[].concat(Object(f.a)(e),Object(f.a)(n))})):e()}else"Alive"===t.status||"Dead"===t.status?F((function(e){return[].concat(Object(f.a)(e),[t])})):e()})):(O(!1),w(!0))})).catch((function(e){console.error(e.message),O(!1),w(!0)}))},fe=function(e){if(e===T[z].status){var t=100*(Math.floor(H/5)+1);$((function(e){return e+1})),G((function(e){return e+t})),Z(t)}else $(0),Z(0);ne(!0)};Object(n.useEffect)((function(){if(T.length===u){fetch("https://rick-and-morty-quiz-c69bc.firebaseio.com/records.json").then((function(e){e.ok?e.json().then((function(e){var t=Object.keys(e).map((function(t){var a=e[t];return a.id=t,a}));t.sort((function(e,t){return e.score>t.score?-1:e.score<t.score?1:0})),oe(t)})):w(!0)})).catch((function(e){console.error(e.message),w(!0)}))}}),[T]);var pe=function(){var e=se.find((function(e){return e.user===s})),a=function(a){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c="https://rick-and-morty-quiz-c69bc.firebaseio.com/records".concat(n?"":"/"+e.id,".json"),r={user:a,score:W};fetch(c,{method:n?"POST":"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){return t.push("")})).catch((function(){return w(!0)}))};if("undefined"!==typeof e&&W>e.score)a(e.user,!1);else{if("undefined"!==typeof e)return t.push("");a(s)}};return c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"".concat(e.path,"/settings"),render:function(){return c.a.createElement(g,{addQty:ie,reduceQty:me,changeName:le,action:ue,name:s,rounds:u,inputError:N})}}),c.a.createElement(l.a,{path:"".concat(e.path,"/play"),render:function(){return c.a.createElement(R,{loading:j,apiError:S,character:T[z],round:[z+1,u].join(" / "),score:W,showScore:ae,addedScore:Y,streak:H,answer:fe})}}),c.a.createElement(l.a,{path:"".concat(e.path,"/resume"),render:function(){return c.a.createElement(I,{send:pe,record:se[0].score,score:W,apiError:S})}}))},F=(a(408),function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),l=Object(h.a)(s,2),i=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(h.a)(u,2),f=d[0],E=d[1];Object(n.useEffect)((function(){var e='https://rick-and-morty-quiz-c69bc.firebaseio.com/records.json?orderBy="score"&limitToLast='.concat(10);fetch(e).then((function(e){e.ok?e.json().then((function(e){var t=Object.keys(e).map((function(t){var a=e[t];return a.id=t,a}));t.sort((function(e,t){return e.score>t.score?-1:e.score<t.score?1:0})),m(!0),r(t)})):m(!0)})).catch((function(e){console.error(e.message),m(!0)})),setTimeout((function(){return E(!0)}),1e3)}),[]);var N=a.length?c.a.createElement("div",{className:"records"},c.a.createElement("h2",{className:"records__title"},"BEST SCORES"),c.a.createElement("div",{className:"records__scores"},c.a.createElement("div",{className:"header"},c.a.createElement("p",null,"USER"),c.a.createElement("p",null,"SCORE")),a.map((function(e){return c.a.createElement("div",{key:e.id,className:"row"},c.a.createElement("p",null,e.user),c.a.createElement("p",null,e.score))}))),c.a.createElement(o.c,{to:"/"},c.a.createElement(p,{text:"MENU",types:["secondary"]}))):c.a.createElement(C,null);return c.a.createElement(n.Fragment,null,i&&f?N:c.a.createElement(j,null))}),q=function(){return c.a.createElement(o.b,{basename:"/"},c.a.createElement("div",{className:"app"},c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/game",component:T}),c.a.createElement(l.a,{path:"/records",component:F}),c.a.createElement(l.a,{path:"/",component:E}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,null,c.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[194,1,2]]]);
//# sourceMappingURL=main.6921f08c.chunk.js.map